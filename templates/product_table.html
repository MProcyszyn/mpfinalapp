{% extends 'index.html' %}
{% block content %}
<h1 class="subtitle">Welcome to my products page!</h1>
<h1 class="content">
    <table class="table_product" border="solid">

        <tr>
            <th>ProductID</th>
            <th>Name</th>
            <th>ProductNumber</th>
            <th>Color</th>
            <th>StandardCost</th>
            <th>ListPrice</th>
            <th>Size</th>
            <th>Weight</th>
            <th>ProductCategoryID</th>
            <th>ProductModelID</th>
            <th>SellStartDate</th>
            <th>SellEndDate</th>
            <th>DiscontinuedDate</th>
            <th>rowguid</th>
            <th>ModifiedDate</th>
        </tr>
    {%for row in query_output%}
        <tr>
            <td id="{{row[0]}}ProductID" >{{row[0]}}</td>
            <td id="{{row[0]}}Name" >{{row[1]}}</td>
            <td id="{{row[0]}}ProductNumber" >{{row[2]}}</td>
            <td id="{{row[0]}}Color" >{{row[3]}}</td>
            <td id="{{row[0]}}StandardCost" >{{row[4]}}</td>
            <td id="{{row[0]}}ListPrice" >{{row[5]}}</td>
            <td id="{{row[0]}}Size" >{{row[6]}}</td>
            <td id="{{row[0]}}Weight" >{{row[7]}}</td>
            <td id="{{row[0]}}ProductCategoryID" >{{row[8]}}</td>
            <td id="{{row[0]}}ProductModelID" >{{row[9]}}</td>
            <td id="{{row[0]}}SellStartDate" >{{row[10]}}</td>
            <td id="{{row[0]}}SellEndDate" >{{row[11]}}</td>
            <td id="{{row[0]}}DiscontinuedDate" >{{row[12]}}</td>
            <td id="{{row[0]}}rowguid" >{{row[15]}}</td>
            <td id="{{row[0]}}ModifiedDate" >{{row[16]}}</td>
        </tr>
    {%endfor%}
    </table>
</h1>


{% endblock %}

{% block navi %}
    <button class="button" onclick="showForm('add_form')"><img src="{{ url_for('static', filename='add.svg') }}" width="50" height="50"></button>
    <button class="button" onclick="showForm('delete_form')"><img src="{{ url_for('static', filename='delete.svg') }}" width="50" height="50"></button>
    <button class="button" onclick="showForm('edit_form')"><img src="{{ url_for('static', filename='edit.svg') }}" width="50" height="50"></button>
{% endblock %}
{% block form %}

<form id="edit_form" action="/edit_product" class="form_" method="POST" style="display:none">
    <h1 style="text-align:center">Edit form</h1>
    <label>ProductID</label>
    <select id="id" name="id" onchange="fill_form()">
        {%for row in query_output%}
        <option value="{{row[0]}}">{{row[0]}}</option>
        {%endfor%}
    </select>

    <label>Name</label>
    <input id="Name" name="Name" type="text" value="">
    <label>ProductNumber</label>
    <input id="ProductNumber" name="ProductNumber" type="text" value="">
    <label>Color</label>
    <input id="Color" name="Color" type="text" value="">
    <label>StandardCost</label>
    <input id="StandardCost" name="StandardCost" type="text" value="">
    <label>ListPrice</label>
    <input id="ListPrice" name="ListPrice" type="text" value="">
    <label>Size</label>
    <input id="Size" name="Size" type="text" value="">
    <label>Weight</label>
    <input id="Weight" name="Weight" type="text" value="">
    <label>ProductCategoryID</label>
    <input id="ProductCategoryID" name="ProductCategoryID" type="text" value="">
    <label>ProductModelID</label>
    <input id="ProductModelID" name="ProductModelID" type="text" value="">
    <label>SellStartDate</label>
    <input id="SellStartDate" name="SellStartDate" type="text" value="">
    <label>SellEndDate</label>
    <input id="SellEndDate" name="SellEndDate" type="text" value="">
    <label>DiscontinuedDate</label>
    <input id="DiscontinuedDate" name="DiscontinuedDate" type="text" value="">
    <label>rowguid</label>
    <input id="rowguid" name="rowguid" type="text" value="">
    <label>ModifiedDate</label>
    <input id="ModifiedDate" name="ModifiedDate" type="text" value="">

<button type="submit">Submit</button>
</form>



<form id="add_form" action="/edit" class="form_" style="display:none">
    <h1 style="text-align:center">Add form</h1>
    <label>Name</label>
    <input id="Name_add" name="Name" type="text" value="">
    <label>ProductNumber</label>
    <input id="ProductNumber_add" name="ProductNumber" type="text" value="">
    <label>Color</label>
    <input id="Color_add" name="Color" type="text" value="">
    <label>StandardCost</label>
    <input id="StandardCost_add" name="StandardCost" type="text" value="">
    <label>ListPrice</label>
    <input id="ListPrice_add" name="ListPrice" type="text" value="">
    <label>Size</label>
    <input id="Size_add" name="Size" type="text" value="">
    <label>Weight</label>
    <input id="Weight_add" name="Weight" type="text" value="">
    <label>ProductCategoryID</label>
    <input id="ProductCategoryID_add" name="ProductCategoryID" type="text" value="">
    <label>ProductModelID</label>
    <input id="ProductModelID_add" name="ProductModelID" type="text" value="">
    <label>SellStartDate</label>
    <input id="SellStartDate_add" name="SellStartDate" type="text" value="">
    <label>SellEndDate</label>
    <input id="SellEndDate_add" name="SellEndDate" type="text" value="">
    <label>DiscontinuedDate</label>
    <input id="DiscontinuedDate_add" name="DiscontinuedDate" type="text" value="">
    <label>ModifiedDate</label>
    <input id="ModifiedDate_add" name="ModifiedDate" type="text" value="">
<button type="button" onclick="submitForm('/edit_product')">Submit</button>
</form>

<form id="delete_form" action="/product_table" class="form_" style="display:none">
    <h1 style="text-align:center">Delete form</h1>
    <select id="id_delete" name="id" onchange="fill_form()">
        {%for row in query_output%}
        <option value="{{row[0]}}">{{row[0]}}</option>
        {%endfor%}
    </select>
    <button type="button" onclick="submitDeleteForm('/edit_product')">Submit</button>
</form>

<script>
  function fill_form(){
    let id = document.getElementById('id').value
    document.getElementById("Name").value = document.getElementById(id + "Name").innerHTML
    document.getElementById("ProductNumber").value = document.getElementById(id + "ProductNumber").innerHTML
    document.getElementById("Color").value = document.getElementById(id + "Color").innerHTML
    document.getElementById("StandardCost").value = document.getElementById(id + "StandardCost").innerHTML
    document.getElementById("ListPrice").value = document.getElementById(id + "ListPrice").innerHTML
    document.getElementById("Size").value = document.getElementById(id + "Size").innerHTML
    document.getElementById("Weight").value = document.getElementById(id + "Weight").innerHTML
    document.getElementById("ProductCategoryID").value = document.getElementById(id + "ProductCategoryID").innerHTML
    document.getElementById("ProductModelID").value = document.getElementById(id + "ProductModelID").innerHTML
    document.getElementById("SellStartDate").value = document.getElementById(id + "SellStartDate").innerHTML
    document.getElementById("SellEndDate").value = document.getElementById(id + "SellEndDate").innerHTML
    document.getElementById("DiscontinuedDate").value = document.getElementById(id + "DiscontinuedDate").innerHTML
    document.getElementById("rowguid").value = document.getElementById(id + "rowguid").innerHTML
    document.getElementById("ModifiedDate").value = document.getElementById(id + "ModifiedDate").innerHTML
}

fill_form()

</script>

{% endblock %}